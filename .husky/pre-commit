echo "ğŸ›¡ï¸ Checking for secrets..."
git diff --cached --name-only | grep -E '\.env$|\.pem$|\.key$' && echo "âŒ Error: Sensitive file detected!" && exit 1

echo "ğŸ’… Running lint-staged (formatting & linting)..."
pnpm exec lint-staged

echo "âŒ¨ï¸ Running type-check on affected packages..."
pnpm turbo run type-check --filter=[HEAD]

echo "âœ… Pre-commit checks passed!"
